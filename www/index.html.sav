<!doctype html>
<html ng-app="iTimeSheet">
    <head>
        <title>Calendar</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf8"/>
        <meta name="format-detection" content="telephone=no"/>
        <meta name="viewport" content="user-scalable=no, initial-scale=1, user-scalable=no, width=device-width, height=device-height, target-densitydpi=device-dpi"/>

        <script type="text/javascript" charset="utf-8" src="js/cordova-2.5.0.js"></script>

        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.3.2.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/jw-jqm-cal.css"/>
        <link rel="stylesheet" type="text/css" href="css/mobiscroll.custom-2.6.2.min.css"/>
        <link rel="stylesheet" type="text/css" href="css/index.css"/>

        <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="js/jquery.mobile-1.3.2.min.js"></script>
        <script type="text/javascript" src="js/angular.min.js"></script>
        <script type="text/javascript" src="js/jquery.i18n.min.js"></script>
        <script type="text/javascript" src="js/i18n_fr.js"></script>
        <script type="text/javascript" src="js/i18n_en.js"></script>
        <script type="text/javascript" src="js/date.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jw-jqm-cal.js"></script>
        <script type='application/javascript' src='js/fastclick.min.js'></script>
        <script type="text/javascript" src="js/mobiscroll.custom-2.6.2.min.js"></script>

        <script src="js/report.js"></script>
        <script src="js/components.js"></script>

        <script type="text/javascript">
            var months = months_en;
            var days = days_en;
            var dateFormat = dateFormat_en;
            var dateOrder = dateOrder_en;

            var language = window.navigator.userLanguage || window.navigator.language;
            codeLang = language.substr(0, 2);

            //codeLang = 'fr';

            var curr = new Date().getFullYear();
            var opt = {}

            opt.date = {preset: 'date', dateFormat: dateFormat, dateOrder: dateOrder, endYear: curr + 100};
            opt.time = {preset: 'time', stepMinute: 5};

            var prefLanguage = null;
            var prefMealVoucher = null;
            var prefDevise = null;
            var prefHourlyRate = null;
            var prefExtraHoursPolicy = null;

            $(document).ready(function ()
            {
                var dateShift;
                var beginShiftAM;
                var endShiftAM;

                $('#inputDateShift').on("change input", function() {
                    $('#lblEditDateShift').html(this.value);
                    dateShift = this.value;
                });

                $('#inputBeginAMShift').on("change input", function ()
                {
                    $('#lblEditBeginAMShift').html(this.value);
                    beginShiftAM = this.value;
                });

                $('#inputEndAMShift').on("change input", function ()
                {
                    $('#lblEditEndAMShift').html(this.value);
                    endShiftAM = this.value;
                });

                ///////////////////////////////////////////////////

                // Edit date shift
                $('#actionEditDateShift').click(function ()
                {
                    $('#itemEditDateShift').addClass('ui-btn-active');

                    $('#inputDateShift').val(dateShift).scroller('destroy').scroller($.extend(opt['date'], { theme: 'ios', mode: 'scroller', display: 'inline', lang: prefLanguage }));
                    $('#lblEditDateShift').html($('#inputDateShift').val());
                    $('#inputDateShift').html(dateShift);

                    dateShift = $('#inputDateShift').val();
                    $('#inputDateShift').focus();
                });

                // Edit morning shift
                $('#actionEditMorningShift').click(function ()
                {
                    if (beginShiftAM == '' && endShiftAM == '')
                    {
                        $('#itemEditBeginAMShift').addClass('ui-disabled');
                        $('#itemEditEndAMShift').addClass('ui-disabled');
                    }
                    else
                    {
                        $('#itemEditEndAMShift').removeClass('ui-btn-active');
                        $('#itemEditBeginAMShift').addClass('ui-btn-active');

                        $('#inputEndAMShift').val('').scroller('destroy');
                        $('#inputBeginAMShift').val(beginShiftAM).scroller('destroy').scroller($.extend(opt['time'], { theme: 'ios', mode: 'scroller', display: 'inline', lang: prefLanguage }));
                        $('#lblEditBeginAMShift').html($('#inputBeginAMShift').val());
                        beginShiftAM = $('#inputBeginAMShift').val();
                    }
                });

                // Edit check-in morning shift
                $('#itemEditBeginAMShift').click(function ()
                {
                    $('#itemEditEndAMShift').removeClass('ui-btn-active');
                    $('#itemEditBeginAMShift').addClass('ui-btn-active');

                    $('#inputEndAMShift').val('').scroller('destroy');
                    $('#inputBeginAMShift').val(beginShiftAM).scroller('destroy').scroller($.extend(opt['time'], { theme: 'ios', mode: 'scroller', display: 'inline', lang: prefLanguage }));
                    $('#lblEditBeginAMShift').html($('#inputBeginAMShift').val());
                    beginShiftAM = $('#inputBeginAMShift').val();
                });

                // Edit check-out morning shift
                $('#itemEditEndAMShift').click(function ()
                {
                    $('#itemEditEndAMShift').addClass('ui-btn-active');
                    $('#itemEditBeginAMShift').removeClass('ui-btn-active');

                    $('#inputBeginAMShift').val('').scroller('destroy');
                    $('#inputEndAMShift').val(endShiftAM).scroller('destroy').scroller($.extend(opt['time'], { theme: 'ios', mode: 'scroller', display: 'inline', lang: prefLanguage }));
                    $('#lblEditEndAMShift').html($('#inputEndAMShift').val());
                    endShiftAM = $('#inputEndAMShift').val();
                });

                // Slider worked?
                $('#sliderWorkedMorningShift').change(function (event, ui)
                {
                    if (event.currentTarget.value == 'no')
                    {
                        $('#inputEndAMShift').val('').scroller('destroy');
                        $('#inputBeginAMShift').val('').scroller('destroy');

                        $('#itemEditEndAMShift').removeClass('ui-btn-active');
                        $('#itemEditBeginAMShift').removeClass('ui-btn-active');

                        $('#itemEditBeginAMShift').addClass('ui-disabled');
                        $('#itemEditEndAMShift').addClass('ui-disabled');
                    }
                    else
                    {
                        $('#itemEditBeginAMShift').removeClass('ui-disabled');
                        $('#itemEditEndAMShift').removeClass('ui-disabled');

                        $('#itemEditEndAMShift').removeClass('ui-btn-active');
                        $('#itemEditBeginAMShift').addClass('ui-btn-active');

                        $('#inputBeginAMShift').val('').scroller('destroy').scroller($.extend(opt['time'], { theme: 'ios', mode: 'scroller', display: 'inline', lang: prefLanguage }));
                    }

                    $('#lblEditBeginAMShift').html($('#inputBeginAMShift').val());
                    $('#lblEditEndAMShift').html($('#inputEndAMShift').val());

                    beginShiftAM = $('#inputBeginAMShift').val();
                    endShiftAM = $('#inputEndAMShift').val();
                });

                // Validate date shift
                $('#actionDoneDateShift').click(function ()
                {
                    $('#lblDateShift').html($('#lblEditDateShift').text());
                    dateShift = $('#lblEditDateShift').text();

//                    var dateTmp = Date.parseExact($('#inputDateShift').val(), "yyyy-MM-dd");
//                    $('#lblDateShift').html(dateTmp.toString("dd MMMM yyyy"));
//                    dateShift = $('#inputDateShift').val();
                });

                // Validate morning shift
                $('#actionDoneMorningShift').click(function ()
                {
                    $('#lblBeginAMShift').html($('#lblEditBeginAMShift').text());
                    beginShiftAM = $('#lblEditBeginAMShift').text();

                    $('#lblEndAMShift').html($('#lblEditEndAMShift').text());
                    endShiftAM = $('#lblEditEndAMShift').text();
                });

                // Add a new shift
                $('#actionAddShift').click(function ()
                {
                    $('#lblDateShift').html(new Date().toString('dd MMMM yyyy'));
                    dateShift = $('#lblDateShift').text();

                    $('#lblBeginAMShift').html("07:00");
                    $('#lblEditBeginAMShift').html($('#lblBeginAMShift').text());
                    beginShiftAM = $('#lblBeginAMShift').text();

                    $('#lblEndAMShift').html("12:00");
                    $('#lblEditEndAMShift').html($('#lblEndAMShift').text());
                    endShiftAM = $('#lblEndAMShift').text();

                    $('#lblBeginPMShift').html("13:00");
                    $('#lblEndPMShift').html("18:00");
                });

                ///////////////////////////////////////////////////

                // Report Summary from Calendar
                $('#actionCalendarViewReport').click(function ()
                {
                    $('#actionReportViewReport').click();
                });

                // Report Weekly
                $('#itemReportWeekly, #itemReportMonthly').click(function ()
                {
                    $('#viewReportSummary').hide();
                    $('#viewReportDetail').show();
                });

                // Report Summary
                $('#actionReportViewReport').click(function ()
                {
                    $('#itemReportWeekly').removeClass('ui-btn-active');
                    $('#itemReportMonthly').removeClass('ui-btn-active');

                    $('#viewReportSummary').show();
                    $('#viewReportDetail').hide();
                });

                ///////////////////////////////////////////////////

                $("#viewLanguage input[type='radio']").change(function (event, ui)
                {
                    prefLanguage = event.currentTarget.value;
                    updatePreference("lang", prefLanguage);
                    doTranslation();

                    $.mobile.changePage("#viewSettings", { transition: "slide", reverse: true, changeHash: false });
                });

                $("#viewMealVoucher input[type='radio']").change(function (event, ui)
                {
                    prefMealVoucher = event.currentTarget.value;
                    updatePreference("mealvoucher", prefMealVoucher);
                    $('#lblSettingsMealVoucher').text($.i18n._('settings.mealvoucher.' + prefMealVoucher));

                    $.mobile.changePage("#viewSettings", { transition: "slide", reverse: true, changeHash: false });
                });

                $("#viewDevise input[type='radio']").change(function (event, ui)
                {
                    prefDevise = event.currentTarget.value;
                    updatePreference("devise", prefDevise);
                    $('#lblSettingsDevise').text($.i18n._('settings.devise.' + prefDevise));

                    $.mobile.changePage("#viewSettings", { transition: "slide", reverse: true, changeHash: false });
                });

                $("#inputSettingsHourlyRate").blur(function (event, ui)
                {
                    prefHourlyRate = $('#inputSettingsHourlyRate').val();
                    updatePreference("hourlyrate", prefHourlyRate);
                });

                $("#actionSettingsEditHourlyRate").click(function (event, ui)
                {
                    $('#inputSettingsHourlyRate').focus();
                });

                $("#backExtraHoursPolicy").click(function (event, ui)
                {
                    var level1 = $('#selectLevel1').val();

                    var level2 = $('#selectLevel2').val();
                    level2 += ";" + $('#rangeMinLevel2').val();
                    level2 += "-" + $('#rangeMaxLevel2').val();

                    var level3 = $('#selectLevel3').val();

                    prefExtraHoursPolicy = level1 + "|" + level2 + "|" + level3;
                    updatePreference("extrahourspolicy", prefExtraHoursPolicy);
                });
            });
        </script>

        <script type="text/javascript" charset="utf-8">

            // Wait for PhoneGap to load
            document.addEventListener("deviceready", onDeviceReady, false);

            window.addEventListener('load', function ()
            {
                FastClick.attach(document.body);
            }, false);

            var events = [];

            function createDB(tx)
            {
                //tx.executeSql('DROP TABLE IF EXISTS EVENTS');
                //tx.executeSql('DROP TABLE IF EXISTS PREFS');
                tx.executeSql('CREATE TABLE IF NOT EXISTS EVENTS (id UNIQUE, beginAM, endAM, beginPM, endPM)');
        //			     tx.executeSql('INSERT INTO EVENTS (id, beginAM, endAM, beginPM, endPM) VALUES (20130818, "08:30", "12:30", "13:00", "18:30")');
        //			     tx.executeSql('INSERT INTO EVENTS (id, beginAM, endAM, beginPM, endPM) VALUES (20130816, "08:00", "10:00", "14:00", "15:00")');
                tx.executeSql('CREATE TABLE IF NOT EXISTS PREFS (name UNIQUE, value)');
                // tx.executeSql('INSERT INTO PREFS (name, value) VALUES ("lang", "en")');
                // tx.executeSql('INSERT INTO PREFS (name, value) VALUES ("mealvoucher", "15")');
            }

            function errorDB(err)
            {
                alert("Error processing SQL: " + err.code + " - " + err.message);
            }

            function loadAllEvent()
            {
                var db = window.openDatabase("timesheet", "1.0", "Timesheet DB", 10000000);

                db.transaction(function query(tx)
                {
                    var sql = 'SELECT * FROM EVENTS';
                    tx.executeSql(sql, [], function querySuccess(tx, results)
                    {
                        var len = results.rows.length;

                        for (var i = 0; i < len; i++)
                        {
                            var date = results.rows.item(i).id.toString();

                            var year = date.substr(0, 4);
                            var month = date.substr(4, 2);
                            var day = date.substr(6, 2);

                            var event_details = [];
                            event_details['day'] = new Date(year, month, day);
                            event_details['beginAM'] = results.rows.item(i).beginAM;
                            event_details['endAM'] = results.rows.item(i).endAM;
                            event_details['beginPM'] = results.rows.item(i).beginPM;
                            event_details['endPM'] = results.rows.item(i).endPM;

                            events[i] = event_details;
                        }

                        // Loading the preferences
                        $('#viewMealVoucher, #viewLanguage, #viewDevise, #viewExtraHoursPolicy').page();

                        findPreference("hourlyrate", function (result)
                        {
                            prefHourlyRate = result == null ? "0" : result;
                            $('#inputSettingsHourlyRate').val(prefHourlyRate);
                        });

                        findPreference("extrahourspolicy", function (result)
                        {
                            prefExtraHoursPolicy = result == null ? "100|150;35-40|200" : result;

                            var levelSplit = prefExtraHoursPolicy.split('|');
                            var level1 = levelSplit[0];
                            var level2 = levelSplit[1];
                            var level3 = levelSplit[2];

                            $('#selectLevel1').val(parseInt(level1));
                            $('#selectLevel1').selectmenu("refresh");

                            var level2Split = level2.split(';');

                            $('#selectLevel2').val(parseInt(level2Split[0]));
                            $('#selectLevel2').selectmenu("refresh");

                            $('#rangeMaxLevel2').val(level2Split[1].split('-')[1]);
                            $('#rangeMaxLevel2').slider("refresh");
                            $('#rangeMinLevel2').val(level2Split[1].split('-')[0]);
                            $('#rangeMinLevel2').slider("refresh");

                            $('#selectLevel3').val(parseInt(level3));
                            $('#selectLevel3').selectmenu("refresh");
                        })

                        findPreference("lang", function (result)
                        {
                            prefLanguage = result == null ? codeLang : result;
                            $('#radioLang' + prefLanguage.capitalize()).prop("checked", true).checkboxradio("refresh");

                            findPreference("mealvoucher", function (result)
                            {
                                prefMealVoucher = result == null ? "60" : result;
                                $('#radioMealVoucher' + prefMealVoucher).prop("checked", true).checkboxradio("refresh");

                                findPreference("devise", function (result)
                                {
                                    prefDevise = result == null ? "euro" : result;
                                    $('#radioDevise' + prefDevise.capitalize()).prop("checked", true).checkboxradio("refresh");

                                    doTranslation();
                                });
                            });

                            displayCalendar();
                        });
                    }, errorDB);
                }, errorDB);
            }

            // PhoneGap is ready
            function onDeviceReady()
            {
                var db = window.openDatabase("timesheet", "1.0", "Timesheet DB", 10000000);
                db.transaction(createDB, errorDB, loadAllEvent);
            }

            function findPreference(name, callback)
            {
                var db = window.openDatabase("timesheet", "1.0", "Timesheet DB", 10000000);

                db.transaction(function query(tx)
                {
                    var sql = 'SELECT * FROM PREFS where name=?';
                    tx.executeSql(sql, [name], function querySuccess(tx, results)
                    {
                        var result = null;
                        if (results.rows.length > 0) {
                            result = results.rows.item(0).value;
                        }
                        callback(result);
                    }, errorDB);
                }, errorDB);
            }

            function updatePreference(name, value)
            {
                var db = window.openDatabase("timesheet", "1.0", "Timesheet DB", 10000000);

                db.transaction(function query(tx)
                {
                    var sql = 'INSERT or REPLACE INTO PREFS ("name", "value") VALUES (?, ?)';
                    tx.executeSql(sql, [name, value], function querySuccess(tx, results) {
                    }, errorDB);
                }, errorDB);
            }

            function displayCalendar()
            {
                $('#calendar').jqmCalendar({
                    events: events,
                    months: months,
                    days: days,
                    startOfWeek: 1
                });
            }

            function doTranslation()
            {
                if (prefLanguage == "fr")
                {
                    months = months_fr;
                    days = days_fr;
                    dateFormat = dateFormat_fr;
                    dateOrder = dateOrder_fr;
                    $.i18n.setDictionary(i18n_dict_fr);
                }
                else
                {
                    months = months_en;
                    days = days_en;
                    dateFormat = dateFormat_en;
                    dateOrder = dateOrder_en;
                    $.i18n.setDictionary(i18n_dict_en);
                }

                $('#lblSettings').text($.i18n._('main.settings'));

                $('#lblSettingsLanguage').text($.i18n._('settings.language.' + prefLanguage));
                $('#lblSettingsMealVoucher').text($.i18n._('settings.mealvoucher.' + prefMealVoucher));
                $('#lblSettingsDevise').text($.i18n._('settings.devise.' + prefDevise));
            }

        </script>
    </head>
<body>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- CALENDAR -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <div data-role="page" id="viewCalendar">

        <div data-role="header">
            <a href="#" data-role="button">Today</a>

            <h1>Calendar</h1>
            <a href="#viewAddShift" id="actionAddShift" data-transition="slideup" data-icon="nf-plus" data-iconpos="notext"
               data-role="button">Add</a>
        </div>

        <div data-role="content">
            <div id="calendar"></div>
        </div>

        <div data-role="footer" data-position="fixed">
            <div class="myNavBar" data-role="navbar" data-iconpos="top">
                <ul class="">
                    <li><a href="#viewCalendar" data-transition="none" data-icon="custom-calendar" class="ui-btn-active ui-state-persist custom-calendar">Calendar</a></li>
                    <li id="actionCalendarViewReport"><a href="#viewReport" class="custom-report" data-transition="none" data-icon="custom-report">Report</a>
                    </li>
                    <li><a href="#viewSettings" class="custom-settings" data-transition="none" data-icon="custom-settings">Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- END CALENDAR -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->

    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- ADD SHIFT -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <div data-role="page" id="viewAddShift">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewCalendar" data-transition="slidedown" data-role="button">Cancel</a>

            <h1 class="">Add shift</h1>
            <a href="#viewCalendar" data-transition="slidedown" data-role="button">Done</a>
        </div>

        <div data-role="content" class="content">
            <ul data-role="listview" data-inset="true">
                <li data-icon="nf-arrow-r" id="actionEditDateShift"><a href="#viewEditDateShift" data-transition="slide">Date
                    <div id="lblDateShift" style="float:right;font-weight:normal;color:blue;"></div>
                </a></li>
            </ul>

            <div class="text">Morning</div>
            <ul data-role="listview" data-inset="true" style="margin-top:5px;">
                <li data-icon="nf-arrow-r"><a href="#viewEditMorningShift" data-transition="slide"
                                              id="actionEditMorningShift">
                    <div>Starts <span id="lblBeginAMShift" style="float:right;font-weight:normal;color:blue;"</span></div>
                    <div>Ends <span id="lblEndAMShift" style="float:right;font-weight:normal;color:blue;"></span></div>
                </a></li>
            </ul>

            <div class="text">Afternoon</div>
            <ul data-role="listview" data-inset="true" style="margin-top:5px;">
                <li data-icon="nf-arrow-r"><a href="#">
                    <div>Starts <span id="lblBeginPMShift" style="float:right;font-weight:normal;color:blue;"></span></div>
                    <div>Ends <span id="lblEndPMShift" style="float:right;font-weight:normal;color:blue;"></span></div>
                </a></li>
            </ul>
        </div>
    </div>

    <div data-role="page" id="viewEditDateShift">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewAddShift" data-direction="reverse" data-transition="slide" data-role="button">Cancel</a>
            <h1 class="">Date</h1>
            <a href="#viewAddShift" id="actionDoneDateShift" data-direction="reverse" data-transition="slide" data-role="button">Done</a>
        </div>

        <div data-role="content" class="content">
            <ul data-role="listview" data-inset="true">
                <li id="itemEditDateShift">Date <div id="lblEditDateShift" style="float:right;font-weight:normal;color:blue;"></div></li>
            </ul>
        </div>

        <div data-role="footer" data-id="mainFooter" data-position="fixed">
            <div style="text-align: center;">
                <input type="hidden" name="inputDateShift" id="inputDateShift"/>
            </div>
        </div>
    </div>

    <div data-role="page" id="viewEditMorningShift">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewAddShift" data-direction="reverse" data-transition="slide" data-role="button">Cancel</a>

            <h1 class="">Morning</h1>
            <a href="#viewAddShift" id="actionDoneMorningShift" data-direction="reverse" data-transition="slide"
               data-role="button">Done</a>
        </div>

        <div data-role="content" class="content">
            <ul data-role="listview" data-inset="true">
                <li id="itemEditBeginAMShift">Starts
                    <div id="lblEditBeginAMShift" style="float:right;font-weight:normal;color:blue;"></div>
                </li>
                <li id="itemEditEndAMShift">Ends
                    <div id="lblEditEndAMShift" style="float:right;font-weight:normal;color:blue;"></div>
                </li>
            </ul>
            <div style="text-align:center">
                <label for="sliderWorkedMorningShift">Worked?</label>
                <select id="sliderWorkedMorningShift" data-role="slider" data-mini="false">
                    <option value="no">No</option>
                    <option value="yes" selected>Yes</option>
                </select>
            </div>
        </div>

        <div data-role="footer" data-id="mainFooter" data-position="fixed">
            <div style="text-align: center;">
                <input type="hidden" name="inputBeginAMShift" id="inputBeginAMShift"/>
                <input type="hidden" name="inputEndAMShift" id="inputEndAMShift"/>
            </div>
        </div>
    </div>
    </div>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- END ADD SHIFT -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->

    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- REPORT -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <div data-role="page" id="viewReport" ng-controller="ReportCtrl">
        <div data-role="header" data-position="fixed" data-theme="a">
            <h1>Report</h1>
            <div data-role="navbar">
                <ul>
                    <li id="itemReportWeekly"><a href="#" ng-click="reportWeekly()" data-role="button">Weekly</a></li>
                    <li id="itemReportMonthly"><a href="#" ng-click="reportMonthly()" data-role="button">Monthly</a></li>
                </ul>
            </div>
        </div>

        <div data-role="content" class="content">
            <div id="viewReportDetail">
                <ul data-role="listview" data-theme="d" data-divider-theme="d" class="ui-listview">
                    <div ng-repeat="report in reports">
                        <li data-role="list-divider" role="heading" class="ui-li ui-li-divider ui-bar-d ui-li-has-count">{{report.date}}</li>
                        <li data-corners="false" data-shadow="false" data-iconshadow="true" data-wrapperels="div" data-iconpos="right" data-theme="d" class="ui-btn ui-btn-icon-right ui-li-has-arrow ui-li ui-btn-up-d">
                            <report-detail report="report" />
                        </li>
                    </div>
                </ul>
            </div>

            <div id="viewReportSummary">
                <div style="margin-top:20px;">
                    <div class="text">This week</div>
                    <ul data-role="listview" data-inset="true" style="margin-top:5px;">
                        <li data-icon="nf-arrow-r">
                            <report-detail report="reportsWeekly" />
                        </li>
                    </ul>
                </div>

                <div style="margin-top:20px;">
                    <div class="text">This month</div>
                    <ul data-role="listview" data-inset="true" style="margin-top:5px;">
                        <li data-icon="nf-arrow-r">
                            <report-detail report="reportsMonthly" />
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div data-role="footer" data-position="fixed">
            <div class="myNavBar" data-role="navbar" data-iconpos="top">
                <ul class="">
                    <li><a href="#viewCalendar" class="custom-calendar" data-transition="none" data-icon="custom-calendar">Calendar</a>
                    </li>
                    <li><a href="#viewReport" id="actionReportViewReport" ng-click="reportSummary()" data-transition="none" data-icon="custom-report" class="ui-btn-active ui-state-persist custom-report">Report</a></li>
                    <li><a href="#viewSettings" class="custom-settings" data-transition="none" data-icon="custom-settings">Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- END REPORT -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->

    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- SETTING -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <div data-role="page" id="viewSettings">
        <div data-role="header" data-position="fixed" data-theme="a">
            <h1 id="lblSettings">Settings</h1>
        </div>

        <div data-role="content" class="content">
            <ul data-role="listview" data-inset="true">
                <li data-icon="nf-arrow-r"><a href="#viewMealVoucher" data-transition="slide"
                                              id="actionSettingsEditMealVoucher">Meal Voucher
                    <div id="lblSettingsMealVoucher" style="float:right;font-weight:normal;color:blue;"></div>
                </a></li>
                <li data-icon="false" id="actionSettingsEditHourlyRate"><a href="#">
                    <div style="overflow:hidden;">
                        <div style="float:left;height:20px;">
                            Hourly Rate
                        </div>
                        <div style="float:right;height:20px;">
                            <input type="number" id="inputSettingsHourlyRate" data-clear-btn="false" step="0.01"
                                   pattern="[0-9.]*" class="ui-input-listview" data-mini="true"/>
                        </div>
                    </div>
                </a></li>
                <li data-icon="nf-arrow-r"><a href="#viewDevise" data-transition="slide" id="actionSettingsEditDevise">Devise
                    <div id="lblSettingsDevise" style="float:right;font-weight:normal;color:blue;"></div>
                </a></li>
                <li data-icon="nf-arrow-r"><a href="#viewExtraHoursPolicy" data-transition="slide"
                                              id="actionSettingsEditExtraHoursPolicy">Extra Hours Policy</a></li>
            </ul>
            <ul data-role="listview" data-inset="true">
                <li data-icon="nf-arrow-r"><a href="#viewLanguage" data-transition="slide"
                                                    id="actionSettingsEditLanguage">Language
                    <div id="lblSettingsLanguage" style="float:right;font-weight:normal;color:blue;"></div>
                </a></li>
            </ul>
            <ul data-role="listview" data-inset="true">
                <li data-icon="false"><a href="#">Version
                    <div style="float:right;font-weight:normal;color:blue;">1.0.0</div>
                </a></li>
            </ul>
        </div>

        <div data-role="footer" data-position="fixed">
            <div class="myNavBar" data-role="navbar" data-iconpos="top">
                <ul class="">
                    <li><a href="#viewCalendar" class="custom-calendar" data-transition="none" data-icon="custom-calendar">Calendar</a>
                    </li>
                    <li><a href="#viewReport" class="custom-report" data-transition="none" data-icon="custom-report">Report</a>
                    </li>
                    <li><a href="#viewSettings" data-transition="none" data-icon="custom-settings" class="ui-btn-active ui-state-persist custom-settings">Settings</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div data-role="page" id="viewLanguage">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewSettings" data-direction="reverse" data-transition="slide" data-role="button">Back</a>

            <h1>Language</h1>
        </div>

        <div data-role="content" class="content">
            <div class="myCheckRadio" data-role="fieldcontain">
                <fieldset data-role="controlgroup" data-iconpos="right">
                    <input type="radio" name="radioLang" id="radioLangEn" value="en"/>
                    <input type="radio" name="radioLang" id="radioLangFr" value="fr"/>
                    <label for="radioLangEn">English</label>
                    <label for="radioLangFr">French</label>
                </fieldset>
            </div>
        </div>
    </div>

    <div data-role="page" id="viewMealVoucher">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewSettings" data-direction="reverse" data-transition="slide" data-role="button">Back</a>

            <h1 class="">Meal Voucher</h1>
        </div>

        <div data-role="content" class="content">
            <div class="myCheckRadio" data-role="fieldcontain">
                <fieldset data-role="controlgroup" data-iconpos="right">
                    <input type="radio" name="radioMealVoucher" id="radioMealVoucher15" value="15"/>
                    <input type="radio" name="radioMealVoucher" id="radioMealVoucher30" value="30"/>
                    <input type="radio" name="radioMealVoucher" id="radioMealVoucher45" value="45"/>
                    <input type="radio" name="radioMealVoucher" id="radioMealVoucher60" value="60"/>
                    <label for="radioMealVoucher15">&lt; 15 minutes</label>
                    <label for="radioMealVoucher30">&lt; 30 minutes</label>
                    <label for="radioMealVoucher45">&lt; 45 minutes</label>
                    <label for="radioMealVoucher60">&lt; 60 minutes</label>
                </fieldset>
            </div>
        </div>
    </div>

    <div data-role="page" id="viewDevise">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewSettings" data-direction="reverse" data-transition="slide" data-role="button">Back</a>

            <h1 class="">Devise</h1>
        </div>

        <div data-role="content" class="content">
            <div class="myCheckRadio" data-role="fieldcontain">
                <fieldset data-role="controlgroup" data-iconpos="right">
                    <input type="radio" name="radioDevise" id="radioDeviseEuro" value="euro"/>
                    <input type="radio" name="radioDevise" id="radioDevisePound" value="pound"/>
                    <input type="radio" name="radioDevise" id="radioDeviseDollar" value="dollar"/>
                    <input type="radio" name="radioDevise" id="radioDeviseYen" value="yen"/>
                    <label for="radioDeviseEuro">€ (Euro)</label>
                    <label for="radioDevisePound">£ (Pound)</label>
                    <label for="radioDeviseDollar">$ (Dollar)</label>
                    <label for="radioDeviseYen">¥ (Yen/Yuan)</label>
                </fieldset>
            </div>
        </div>
    </div>

    <div data-role="page" id="viewExtraHoursPolicy">
        <div data-role="header" data-position="fixed" data-theme="a">
            <a href="#viewSettings" id="backExtraHoursPolicy" data-direction="reverse" data-transition="slide"
               data-role="button">Back</a>

            <h1 class="">Extra Hours Policy</h1>
        </div>

        <div data-role="content" class="content">
            <div data-role="fieldcontain">
                <div data-role="fieldcontain">
                    <label for="selectLevel1">Level 1</label>
                    <select name="selectLevel1" id="selectLevel1" data-mini="true">
                        <option value="100">100%</option>
                    </select>
                </div>
            </div>
            <div data-role="fieldcontain">
                <label for="selectLevel2">Level 2</label>

                <div data-role="rangeslider" data-mini="true">
                    <input type="range" name="rangeMinLevel2" id="rangeMinLevel2" min="35" max="50">
                    <input type="range" name="rangeMaxLevel2" id="rangeMaxLevel2" min="35" max="50">
                </div>
                <div data-role="fieldcontain">
                    <select name="selectLevel2" id="selectLevel2" data-mini="true">
                        <option value="100">100%</option>
                        <option value="125">125%</option>
                        <option value="150">150%</option>
                        <option value="175">175%</option>
                        <option value="200">200%</option>
                    </select>
                </div>
            </div>
            <div data-role="fieldcontain">
                <div data-role="fieldcontain">
                    <label for="selectLevel3">Level 3</label>
                    <select name="selectLevel3" id="selectLevel3" data-mini="true">
                        <option value="100">100%</option>
                        <option value="125">125%</option>
                        <option value="150">150%</option>
                        <option value="175">175%</option>
                        <option value="200">200%</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    <!-- END SETTINGS -->
    <!-- !!!!!!!!!!!!!!!!!!!!!!!! -->
    </body>
</html>